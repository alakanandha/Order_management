{% extends "shop/base.html" %}
{% block content %}
<!DOCTYPE html>
<html>
<head>
  <title>My Orders</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
  <h2 class="mb-4 text-center">My Orders</h2>

  {% if orders %}
    <div class="list-group">
      {% for order in orders %}
        <div class="list-group-item mb-3 p-4 border rounded bg-white">
          <h5>{{ order.product.name }} (x{{ order.quantity }})</h5>
          <p><strong>Price:</strong> ₹{{ order.product.selling_price }} | <strong>Total:</strong> ₹{{ order.total_price }}</p>
          <p><strong>Ordered On:</strong> {{ order.order_date|date:"d M Y, H:i" }}</p>
          <p><strong>Payment Method:</strong> {{ order.payment_method|default:"Cash on Delivery" }}</p>

          <p><strong>Shipping Address:</strong> {{ order.address.full_name }}, {{ order.address.address_line1 }} {{ order.address.address_line2 }}, {{ order.address.city }}, {{ order.address.state }} - {{ order.address.pincode }}</p>
          <p><strong>Status:</strong> {{ order.status }}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center">You have not placed any orders yet.</p>
  {% endif %}

  <div class="text-center mt-4">
    <a href="{% url 'shop:home' %}" class="btn btn-success">Continue Shopping</a>
  </div>
</div>
</body>
</html>
{% endblock %}